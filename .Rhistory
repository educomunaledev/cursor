data_long_annotated %>%
filter(type == "country",
vaccine == "MCV1",
year %in% c(2000, 2022)) %>%
ggplot() +
aes(x = region_complete, y = coverage, fill = region_complete) +
geom_boxplot() +
scale_fill_viridis_d(option = "plasma", direction = 1) +
theme_bw() +
theme(axis.text.x = element_text(angle = 45,
vjust = 1,
hjust = 1),
plot.margin = unit(c(1, 1, 1, 1), "cm")) +
facet_wrap(vars(year))
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1")
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
esquisser()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot(.) +
aes(
x = year,
y = coverage,
fill = total_deaths,
colour = coverage
) +
geom_line() +
scale_fill_gradient() +
scale_color_gradient() +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot(.) +
geom_line(mapping = aes(
x = year,
y = coverage,
colour = coverage
)) +
scale_fill_gradient() +
scale_color_gradient() +
theme_minimal()
data_long_annotated
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot(.) +
geom_line(mapping = aes(
x = year,
y = coverage,
colour = coverage
)) +
geom_line(mapping = aes(
x = year,
y = total_deaths,
colour = total_deaths
)) +
scale_fill_gradient() +
scale_color_gradient() +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot(.) +
geom_line(mapping = aes(
x = year,
y = coverage,
colour = "steelblue"
)) +
geom_line(mapping = aes(
x = year,
y = total_deaths,
colour = "red"
)) +
scale_color_gradient() +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot(.) +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue") +
geom_line(mapping = aes(
x = year,
y = total_deaths),
colour = "red") +
scale_color_gradient() +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot(.) +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue") +
geom_bar(mapping = aes(
x = year,
y = total_deaths),
colour = "red") +
scale_color_gradient() +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot(.) +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue") +
geom_col(mapping = aes(
x = year,
y = total_deaths),
colour = "red") +
scale_color_gradient() +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot(.) +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue") +
geom_col(mapping = aes(
x = year,
y = total_deaths),
fill = "red") +
scale_color_gradient() +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot(.) +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue") +
scale_color_gradient() +
theme_minimal() +
```
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot(.) +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue") +
theme_minimal() +
```
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue") +
theme_minimal() +
```
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue") +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue",
width = 1) +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue",
width = 1) +
?geom_line
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue",
width = 1) +
?geom_line()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue",
width = 1) +
?geom_line()
?geom_line()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue",
linewidth = 1) +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue",
linewidth = 2) +
theme_minimal()
vaccination = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "steelblue",
linewidth = 2) +
theme_minimal()
deaths = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = deaths),
colour = "steelblue",
linewidth = 2) +
theme_minimal()
data_long_annotated
deaths = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = total_deaths ),
colour = "steelblue",
linewidth = 2) +
theme_minimal()
deaths = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_col(mapping = aes(
x = year,
y = total_deaths)) +
theme_minimal()
deaths
deaths = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(
x = year,
y = total_deaths)
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(
x = year,
y = total_deaths)
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(x = year,
y = total_deaths)
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(x = year, y = total_deaths)
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(x = year, y = total_deaths) +
geom_col() +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(x = year, y = total_deaths) +
geom_col(color = "red") +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(x = year, y = total_deaths) +
geom_col(fill = "red") +
theme_minimal()
data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(x = year, y = total_deaths) +
geom_col(fill = "red") +
theme_minimal()
deaths = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(x = year, y = total_deaths) +
geom_col(fill = "red") +
theme_minimal()
library(patchwork)
vaccination + deaths
vaccination / deaths
vaccination = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "#4DBBD5B2",
linewidth = 2) +
theme_minimal()
deaths = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(x = year, y = total_deaths) +
geom_col(fill = "#DC0000B2") +
theme_minimal()
vaccination / deaths
(vaccination / deaths)
vacina_morte = (vaccination / deaths)
(vaccination / deaths) %>%
ggsave(file = "Sarampo_Brasil_1980_2023.png")
(vaccination / deaths) %>%
ggsave(file = "Sarampo_Brasil_1980_2023.png", width = 10, height = 10)
(vaccination / deaths) %>%
ggsave(file = "Sarampo_Brasil_1980_2023.png", width = 2, height = 2)
deaths = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(x = year, y = total_deaths) +
geom_col(fill = "#DC0000B2") +
theme_minimal() +
theme(text = element_text(size = 10), )
#Unir gráficos
library(patchwork)
(vaccination / deaths) %>%
ggsave(file = "Sarampo_Brasil_1980_2023.png", width = 10, height = 10)
#Unindo gráficos -----
#Criar gráficos
vaccination = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
geom_line(mapping = aes(
x = year,
y = coverage),
colour = "#4DBBD5B2",
linewidth = 2) +
theme_minimal()
deaths = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(x = year, y = total_deaths) +
geom_col(fill = "#DC0000B2") +
theme_minimal() +
theme(text = element_text(size = 10), )
#Unir gráficos
library(patchwork)
(vaccination / deaths) %>%
ggsave(file = "Sarampo_Brasil_1980_2023.png", width = 10, height = 10)
showtext_opts(dpi = 300)
(vaccination / deaths) %>%
ggsave(file = "Sarampo_Brasil_1980_2023.png", width = 10, height = 10)
(vaccination / deaths) %>%
ggsave(file = "Sarampo_Brasil_1980_2023.png", width = 5, height = 5)
#Boxplot simples
data_long_annotated %>%
filter(type == "country",
vaccine == "MCV1",
year %in% c(2000, 2022)) %>%
ggplot() +
aes(x = region_complete, y = coverage, fill = region_complete) +
geom_boxplot() +
scale_fill_viridis_d(option = "plasma", direction = 1) +
theme_bw() +
theme(axis.text.x = element_text(angle = 45,
vjust = 1,
hjust = 1),
plot.margin = unit(c(1, 1, 1, 1), "cm")) +
facet_wrap(vars(year))
deaths = data_long_annotated %>%
filter(name == "Brazil",
vaccine == "MCV1") %>%
ggplot() +
aes(x = year, y = total_deaths) +
geom_col(fill = "#DC0000B2") +
theme_minimal() +
theme(text = element_text(size = 10))
#Unir gráficos
library(patchwork)
(vaccination / deaths) %>%
ggsave(file = "Sarampo_Brasil_1980_2023.png", width = 5, height = 5)
(vaccination / deaths)
# Mudando a fonte
font_add_google("Montserrat", # Importe a fonte Montserrat
"montserrat") # como "montserrat"
plot =
# Manipular tabela
latin_2000_2023 %>%
filter(vaccine %in% "MCV1") %>%
mutate(name = fct_reorder(name, median)) %>%
#Criar base do gráfico
ggplot() +
aes(x = median, y = name, colour = median) + #Aesthetics (o que cada elemento representa)
#Geometria
geom_point(shape = "circle",
size = 1) +
#Tema, aparência
theme_light() +
#Escala de cores
scale_colour_gradient(low = "#DC0000B2",
high = "#4DBBD5B2") +
# Labels, titulo, subtitulo, titulo dos eixos
labs(title = "Vacinação em países da América Latina",
subtitle = "Sarampo, MCV1, Dose 1, entre 2000 e 2023",
y = "Países",
x = "Mediana (Cobertura %)",
tag = "Figure A.",
caption = "Fonte: Feito pela UPVacina") +
# Aparência especifica
theme(
#Texto geral
text = element_text(family = "montserrat",
color = "black"),
#Título, subtítulo e tag
plot.title = element_text(size = 12,
face = "bold",
hjust = 0,
vjust = 0.5),
plot.subtitle = element_text(size = 10),
plot.tag.position = "topleft",
plot.tag = element_text(vjust = 5,
size = 12,
face = "bold"),
#Eixos
axis.title.x = element_text(size = 10,
angle = 0,
color = "black"),
axis.text.x = element_text(color = "black",
size = 8,
angle = 0),
axis.text.y = element_text(size = 8,
color = "black"),
#Margens do gráfico
plot.margin = unit(c(0.5, #Top
1, #Right
0.5, #Bottom
0), #Left
"cm") #Unidade)
) +
#Marcações
#Linhas
geom_hline(yintercept = "Brazil", colour = "blue", linetype = 2) +
geom_hline(yintercept = "Jamaica", colour = "red", linetype = 2) +
geom_vline(xintercept = 95,
colour = "black",
size = 1,
linetype = 1
)
plot
# Chamando os pacotes da biblioteca
library(tidyverse) #Metapacote
library(skimr) #Diagnóstico de tabela
library(janitor) #Limpeza de tabelas
library(esquisse) #Plotagem de gráficos prática
library(showtext) # Fontes
library(ggthemes)
library(plotly)
plot
